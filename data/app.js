// Generated by CoffeeScript 1.6.3
(function() {
  (function() {
    var app, menubar, statusIcon, trayMenu, window;
    app = module.exports = require("appjs");
    app.serveFilesFrom(__dirname + "/content");
    menubar = app.createMenu([
      {
        label: "&File",
        submenu: [
          {
            label: "E&xit",
            action: function() {
              return window.close();
            }
          }
        ]
      }, {
        label: "&Window",
        submenu: [
          {
            label: "Fullscreen",
            action: function(item) {
              window.frame.fullscreen();
              return console.log(item.label + " called.");
            }
          }, {
            label: "Minimize",
            action: function() {
              return window.frame.minimize();
            }
          }, {
            label: "Maximize",
            action: function() {
              return window.frame.maximize();
            }
          }, {
            label: ""
          }, {
            label: "Restore",
            action: function() {
              return window.frame.restore();
            }
          }
        ]
      }
    ]);
    menubar.on("select", function(item) {
      return console.log("menu item " + item.label + " clicked");
    });
    trayMenu = app.createMenu([
      {
        label: "Show",
        action: function() {
          return window.frame.show();
        }
      }, {
        label: "Minimize",
        action: function() {
          return window.frame.hide();
        }
      }, {
        label: "Exit",
        action: function() {
          return window.close();
        }
      }
    ]);
    statusIcon = app.createStatusIcon({
      icon: "./data/content/icons/32.png",
      tooltip: "AppJS Hello World",
      menu: trayMenu
    });
    window = app.createWindow({
      width: 640,
      height: 800,
      showChrome: true,
      icons: __dirname + "/content/icons"
    });
    window.on("create", function() {
      console.log("Window Created");
      window.frame.show();
      window.frame.center();
      return window.frame.setMenuBar(menubar);
    });
    window.on("ready", function() {
      var Command_Option_J, F12;
      Command_Option_J = void 0;
      F12 = function(e) {
        return e.keyIdentifier === "F12";
      };
      Command_Option_J = function(e) {
        return e.keyCode === 74 && e.metaKey && e.altKey;
      };
      console.log("Window Ready");
      window.process = process;
      window.module = module;
      window.app = {
        shell: require("shelljs"),
        keyboard: require("keyboard"),
        fs: require("fs"),
        mime: require("mime")
      };
      return window.addEventListener("keydown", function(e) {
        if (F12(e) || Command_Option_J(e)) {
          return window.frame.openDevTools();
        }
      });
    });
    return window.on("close", function() {
      return console.log("Window Closed");
    });
  }).call(this);

}).call(this);
